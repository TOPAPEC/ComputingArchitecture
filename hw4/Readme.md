Данный документ является пояснительной запиской.

Задание выполнял Данил Бугриенко, БПИ202

За основу взят код первого задания по реализации программы на C (присутствует допущение в виде файлового потока).

# Условие 

Начальное условие - 2, номер функции - 4

Было получено задание написать на с использованием языков С/C++ и NASM произвольным стилем программу, содержащую структуры 
трех геометрических фигур: круг (целочисленные координата центра окружности, радиус), прямоугольник 
(целочисленные координаты левого верхнего и правого нижнего углов), треугольник (целочисленные 
координаты трех углов) - с возможностью вычисления периметра для каждой фигуры. Все фигуры имеют 
базовый класс shape, содержащий: цвет (красный, оранжевый, желтый, зеленый, голубой, синий, фиолетовый).
Фигуры должны помещаться внутрь структуры container, для которой реализована сортировка Shaker sort, с периметрами фигур в качестве ключей.

Логика программы реализована на С (частично с++), вычисления периметров и сортировка написаны на NASM.

# Тесты и результат 

Тесты с ожидаемым результатом лежат в директории hw4\tests. В каждой папке находится набор тестовых данных, файл вывода 1 с характеристиками фигур и файл вывода 2 с суммой периметров всех фигур.

# Запуск тестов

Из корневой директории проекта можно запустить команду test.sh. 
Результаты тестирования будут сохранены в каждую из папок тестирования.

# Метрики 
5 заголовочных файлов + 6 cpp + 1 .sh + 2 asm файла общим размером 18 251 байт.
Сравнение с предыдущими программами: 

Сравнение количества файлов:

| Домашнее задание | Количество файлов                                   |
| ---------------- | --------------------------------------------------- |
| C                | 5 заголовочных файлов и 6 cpp файлов                |
| C++              | 5 заголовочных файлов и 6 cpp файлов                |
| Python           | 7 .py файлов                                        |
| C/C++ + NASM     | 5 заголовочных файлов + 6 cpp + 1 .sh + 2 asm файла |

Сравнение размеров:

| Номер задания                | 1. С   | 2. C++ | 3. Python | 4. C++ + NASM |
| ---------------------------- | ------ | ------ | --------- | ------------- |
| Размер исходных кодов (байт) | 11 391 | 10 935 | 8 431     | 18 251        |

Сравнение времени исполнения каждого набора тестов:

| Номер теста         | 1        | 2        | 3        | 4        | 5        |
| ------------------- | -------- | -------- | -------- | -------- | -------- |
| C++ + NASM микросек | 340      | 331      | 257      | 510      | 301      |
| Python сек          | 0.000977 | 0.000976 | 0.000978 | 0.000975 | 0.000970 |
| C++ микросек        | 435      | 407      | 322      | 401      | 341      |
| C микросек          | 353      | 345      | 390      | 430      | 351      |

# Сравнение программ

Размер в исходных кодов 4 дз превысил размеры всех предыдущих (как видно из приведенной выше таблицы) поскольку код на ассемблере гораздо длиннее такового на языках C/C++/Python. Количество исполняемых файлов возросло (как видно из первой таблицы). Программа должна работать даже быстрее, чем решение на C/C++, например, в коде вычисления периметра треугольника была выбрана функция sqrtsd, которая работает быстрее встроенной функций sqrt в языке C. 

